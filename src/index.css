@import "tailwindcss";

/* Definition of the design system using Tailwind v4 theme variables.
All colors are converted from HSL values to the new format.
*/

@theme {
  /* Color definitions using CSS variables */
  --color-background: oklch(from hsl(240 15% 7%) l c h);
  --color-foreground: oklch(from hsl(210 40% 98%) l c h);

  --color-card: oklch(from hsl(240 12% 10%) l c h);
  --color-card-foreground: oklch(from hsl(210 40% 98%) l c h);

  --color-popover: oklch(from hsl(240 12% 10%) l c h);
  --color-popover-foreground: oklch(from hsl(210 40% 98%) l c h);

  --color-primary: oklch(from hsl(210 100% 60%) l c h);
  --color-primary-foreground: oklch(from hsl(240 15% 7%) l c h);

  --color-secondary: oklch(from hsl(240 5% 15%) l c h);
  --color-secondary-foreground: oklch(from hsl(210 40% 98%) l c h);

  --color-muted: oklch(from hsl(240 5% 15%) l c h);
  --color-muted-foreground: oklch(from hsl(215 20.2% 65.1%) l c h);

  --color-accent: oklch(from hsl(210 100% 60%) l c h);
  --color-accent-foreground: oklch(from hsl(240 15% 7%) l c h);

  --color-destructive: oklch(from hsl(0 84.2% 60.2%) l c h);
  --color-destructive-foreground: oklch(from hsl(210 40% 98%) l c h);

  --color-border: oklch(from hsl(240 8% 20%) l c h);
  --color-input: oklch(from hsl(240 8% 20%) l c h);
  --color-ring: oklch(from hsl(210 100% 60%) l c h);

  /* Dark mode colors */
  --color-destructive-dark: oklch(from hsl(0 62.8% 30.6%) l c h);

  /* Sidebar colors */
  --color-sidebar-background: transparent;
  --color-sidebar-foreground: oklch(from hsl(240 4.8% 95.9%) l c h);
  --color-sidebar-primary: oklch(from hsl(210 100% 60%) l c h);
  --color-sidebar-primary-foreground: oklch(from hsl(240 15% 7%) l c h);
  --color-sidebar-accent: oklch(from hsl(240 5% 15%) l c h);
  --color-sidebar-accent-foreground: oklch(from hsl(240 4.8% 95.9%) l c h);
  --color-sidebar-border: oklch(from hsl(240 8% 20%) l c h);
  --color-sidebar-ring: oklch(from hsl(210 100% 60%) l c h);

  /* Border radius */
  --radius: 0.75rem;

  /* Custom CSS variables for gradients and effects */
  --gradient-primary: linear-gradient(135deg, oklch(from hsl(240 15% 7%) l c h), oklch(from hsl(240 12% 10%) l c h));
  --gradient-accent: linear-gradient(135deg, oklch(from hsl(210 100% 60%) l c h), oklch(from hsl(200 100% 55%) l c h));
  --star-color: oklch(from hsl(210 40% 98% / 0.8) l c h);
}

/* Base styles */
@layer base {
  * {
    border-color: var(--color-border);
  }

  body {
    background-color: var(--color-background);
    color: var(--color-foreground);
  }

  /* Dark mode adjustments using modern CSS */
  @media (prefers-color-scheme: dark) {
    :root {
      --color-destructive: var(--color-destructive-dark);
    }
  }

  .dark {
    --color-destructive: var(--color-destructive-dark);
  }
}

/* Custom utilities using the new @utility directive */
@utility network-bg {
  background:
    linear-gradient(90deg, oklch(from hsl(210 100% 50% / 0.05) l c h) 1px, transparent 1px),
    linear-gradient(180deg, oklch(from hsl(210 100% 50% / 0.05) l c h) 1px, transparent 1px);
  background-size: 60px 60px;
  position: relative;

  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image:
      radial-gradient(circle at 0% 0%, oklch(from hsl(210 100% 60% / 0.3) l c h) 1px, transparent 1px),
      radial-gradient(circle at 20% 20%, oklch(from hsl(210 100% 60% / 0.4) l c h) 1px, transparent 1px),
      radial-gradient(circle at 40% 40%, oklch(from hsl(210 100% 60% / 0.3) l c h) 1px, transparent 1px),
      radial-gradient(circle at 60% 60%, oklch(from hsl(210 100% 60% / 0.4) l c h) 1px, transparent 1px),
      radial-gradient(circle at 80% 80%, oklch(from hsl(210 100% 60% / 0.3) l c h) 1px, transparent 1px),
      radial-gradient(circle at 100% 100%, oklch(from hsl(210 100% 60% / 0.4) l c h) 1px, transparent 1px);
    background-size: 120px 120px, 140px 140px, 100px 100px, 160px 160px, 180px 180px, 200px 200px;
    animation: network-float 20s ease-in-out infinite;
  }

  &::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background:
      linear-gradient(45deg, transparent 30%, oklch(from hsl(210 100% 60% / 0.02) l c h) 32%, transparent 34%),
      linear-gradient(135deg, transparent 30%, oklch(from hsl(210 100% 60% / 0.02) l c h) 32%, transparent 34%),
      linear-gradient(-45deg, transparent 30%, oklch(from hsl(210 100% 60% / 0.02) l c h) 32%, transparent 34%),
      linear-gradient(-135deg, transparent 30%, oklch(from hsl(210 100% 60% / 0.02) l c h) 32%, transparent 34%);
    background-size: 100px 100px;
  }
}

@utility glow-text {
  text-shadow: 0 0 30px color-mix(in oklch, var(--color-primary), transparent 40%);
}

@utility code-block {
  background: var(--color-card);
  border: 1px solid var(--color-border);
  border-radius: var(--radius);
  padding: 1rem;
  font-family: 'Fira Code', 'Courier New', monospace;
  font-size: 0.875rem;
  line-height: 1.5;
  overflow-x: auto;
}

@utility stats-badge {
  background: color-mix(in oklch, var(--color-background), transparent 40%);
  border: 1px solid color-mix(in oklch, var(--color-border), transparent 70%);
  backdrop-filter: blur(10px);
  color: var(--color-muted-foreground);
}

/* Keyframes animation */
@keyframes network-float {
  0%, 100% {
    transform: translate(0, 0) scale(1);
    opacity: 0.6;
  }
  25% {
    transform: translate(5px, -10px) scale(1.02);
    opacity: 0.8;
  }
  50% {
    transform: translate(-3px, 5px) scale(0.98);
    opacity: 0.7;
  }
  75% {
    transform: translate(8px, 3px) scale(1.01);
    opacity: 0.9;
  }
}